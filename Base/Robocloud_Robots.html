<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RoboCloud - Robot Management</title>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f5f7fa;
        color: #333;
    }
    /* Sidebar */
    .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 220px;
        height: 100%;
        background: #fff;
        border-right: 1px solid #ddd;
        padding-top: 20px;
        box-sizing: border-box;
    }
    .sidebar h2 {
        text-align: center;
        font-size: 18px;
        margin-bottom: 30px;
    }
    .sidebar ul {
        list-style: none;
        padding: 0;
    }
    .sidebar ul li {
        padding: 15px 20px;
        cursor: pointer;
    }
    .sidebar ul li:hover, .sidebar ul li.active {
        background: #e5e5f7;
        border-radius: 8px;
    }
    /* Main */
    .main {
        margin-left: 240px;
        padding: 20px;
    }
    .controls {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        flex-wrap: wrap;
        gap: 10px;
    }
    .controls input, .controls select, .controls button {
        padding: 8px 12px;
        font-size: 14px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
    .controls button {
        background-color: #6b5ce7;
        color: white;
        border: none;
        cursor: pointer;
    }
    .controls button:hover {
        background-color: #5941c6;
    }
    /* Grid */
    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fill,minmax(220px,1fr));
        gap: 20px;
    }
    .card {
        background: #fff;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        position: relative;
        transition: transform 0.2s;
    }
    .card:hover {
        transform: translateY(-5px);
    }
    .status-dot {
        height: 12px;
        width: 12px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 6px;
    }
    .status-online { background: #4caf50; }
    .status-maintenance { background: #ffb400; }
    .status-offline { background: #999; }
    .status-error { background: #f44336; }
    .card .delete-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #f44336;
        color: white;
        border: none;
        border-radius: 6px;
        padding: 4px 6px;
        cursor: pointer;
        display: none;
    }
    .card:hover .delete-btn {
        display: block;
    }
    .card h3 {
        margin: 0 0 5px 0;
        font-size: 18px;
    }
    .card small {
        color: #777;
        display: block;
        margin-bottom: 10px;
    }
    .card .info {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }
    .info div {
        background: #f5f5f5;
        padding: 5px 8px;
        border-radius: 6px;
        font-size: 13px;
        flex: 1 1 40%;
    }

    /* Modal */
    .modal {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    .modal-content {
        background: #fff;
        padding: 20px;
        border-radius: 12px;
        width: 300px;
        position: relative;
    }
    .modal-content h3 {
        margin-top: 0;
    }
    .modal-content input, .modal-content select {
        width: 100%;
        padding: 8px;
        margin-bottom: 12px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
    .modal-content button {
        width: 100%;
        padding: 10px;
        background: #6b5ce7;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }
    .modal-content button:hover {
        background: #5941c6;
    }
    .modal-content .close {
        position: absolute;
        top: 10px; right: 12px;
        font-size: 18px;
        cursor: pointer;
    }
</style>
</head>
<body>

<div class="sidebar">
    <h2>RoboCloud</h2>
    <ul>
        <li>Dashboard</li>
        <li class="active">Robots</li>
        <li>Predictions</li>
        <li>Tele-Operation</li>
        <li>Kinematics</li>
        <li>Health</li>
        <li>Updates</li>
    </ul>
</div>

<div class="main">
    <div class="controls">
        <input type="text" id="search" placeholder="Search Robots..." onkeyup="filterRobots()">
        <select id="statusFilter" onchange="filterRobots()">
            <option value="">All Status</option>
            <option value="Online">Online</option>
            <option value="Maintenance">Maintenance</option>
            <option value="Offline">Offline</option>
            <option value="Error">Error</option>
        </select>
        <button onclick="openModal()">+ Add Robot</button>
    </div>
    <div class="grid" id="robotGrid"></div>
</div>

<!-- Modal -->
<div class="modal" id="robotModal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h3>Register New Robot</h3>
        <input type="text" id="robotName" placeholder="Robot Name (e.g. Atlas-01)">
        <input type="text" id="firmwareVersion" placeholder="Firmware Version" value="1.0.0">
        <select id="initialStatus">
            <option value="Offline">Offline</option>
            <option value="Online">Online</option>
            <option value="Maintenance">Maintenance</option>
            <option value="Error">Error</option>
        </select>
        <button onclick="registerRobot()">Register Robot</button>
    </div>
</div>

<script>
let robots = [
    {name: 'Atlas-01', version: 'v2.4.1', status: 'Online', battery: '87%', temp: '42Â°C', steps: '15420', wifi: '94%'},
    {name: 'Titan-02', version: 'v2.3.8', status: 'Maintenance', battery: '65%', temp: '38Â°C', steps: '8930', wifi: '78%'},
    {name: 'Nova-03', version: 'v2.4.0', status: 'Offline', battery: '23%', temp: '25Â°C', steps: '21050', wifi: '85%'},
    {name: 'Atlas-01', version: 'v2.3.1', status: 'Online', battery: '87%', temp: '42Â°C', steps: '15420', wifi: '94%'},
    {name: 'Titan-02', version: 'v2.2.0', status: 'Maintenance', battery: '65%', temp: '38Â°C', steps: '28750', wifi: '78%'},
    {name: 'Nova-03', version: 'v2.3.1', status: 'Online', battery: '92%', temp: '45Â°C', steps: '8920', wifi: '98%'},
    {name: 'Echo-04', version: 'v2.1.5', status: 'Error', battery: '23%', temp: '72Â°C', steps: '42100', wifi: '45%'},
];

function renderRobots(list = robots) {
    const grid = document.getElementById('robotGrid');
    grid.innerHTML = '';
    list.forEach((robot, index) => {
        const statusClass = robot.status === 'Online' ? 'status-online' :
                            robot.status === 'Maintenance' ? 'status-maintenance' :
                            robot.status === 'Offline' ? 'status-offline' : 'status-error';
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
            <button class="delete-btn" onclick="deleteRobot(${index})">ðŸ—‘</button>
            <h3><span class="status-dot ${statusClass}"></span>${robot.name}</h3>
            <small>${robot.version} - ${robot.status}</small>
            <div class="info">
                <div>Battery: ${robot.battery}</div>
                <div>Temp: ${robot.temp}</div>
                <div>Steps: ${robot.steps}</div>
                <div>WiFi: ${robot.wifi}</div>
            </div>
        `;
        grid.appendChild(card);
    });
}

function filterRobots() {
    const searchText = document.getElementById('search').value.toLowerCase();
    const statusFilter = document.getElementById('statusFilter').value;
    const filtered = robots.filter(r => 
        r.name.toLowerCase().includes(searchText) &&
        (statusFilter === '' || r.status === statusFilter)
    );
    renderRobots(filtered);
}

function openModal() {
    document.getElementById('robotModal').style.display = 'flex';
}
function closeModal() {
    document.getElementById('robotModal').style.display = 'none';
}

function registerRobot() {
    const name = document.getElementById('robotName').value.trim();
    const version = document.getElementById('firmwareVersion').value.trim() || '1.0.0';
    const status = document.getElementById('initialStatus').value;

    if(!name) { alert('Robot name is required'); return; }

    // Add new robot with default battery/temp/steps/wifi
    robots.push({name, version, status, battery: '100%', temp: '40Â°C', steps: '0', wifi: '100%'});
    renderRobots();
    closeModal();

    // Clear modal inputs
    document.getElementById('robotName').value = '';
    document.getElementById('firmwareVersion').value = '1.0.0';
    document.getElementById('initialStatus').value = 'Offline';
}

function deleteRobot(index) {
    if(confirm("Are you sure you want to delete this robot?")) {
        robots.splice(index,1);
        renderRobots();
    }
}

renderRobots();
</script>

</body>
</html>
